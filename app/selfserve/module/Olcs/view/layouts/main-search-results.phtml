<?php

$count = $this->results->getTotal();
$results = $this->results;

?>

<div class="page-header">
    <ol class="breadcrumbs">
        <li class="breadcrumbs__item">
            <a href="<?php echo $this->url($this->backRoute);?>"><?php echo $this->translate('search.form.back'); ?></a>
        </li>
    </ol>
    <div class="page-header__wrapper">

        <h1>
            <?php echo $this->getHelperPluginManager()
                ->getServiceLocator()->get('Helper\Translation')
                ->translateReplace('search.result.title.' . $this->index, [$count]); ?>
        </h1>

        <div class="page-header__text">
            <p>
                <?php echo $this->getHelperPluginManager()
                    ->getServiceLocator()->get('Helper\Translation')
                    ->translateReplace('search.result.subtitle.' . $this->index, [$count]); ?>
            </p>
            <?php
            if ($this->index === 'publication') {
                // OLCS-11648 applies to publication SS search results only
                ?>
                <p><?php echo $this->translate('search.result.subtitle.publication.download'); ?></p>
                <?php
            }
            ?>

        </div>


    </div>
</div><!-- page-header -->

<div class="row">
    <div class="one-quarter sidebar--plain search-filter">

        <h3 id="filterTitle"><?php echo $this->translate('search.form.title') ?></h3>

        <?php echo $this->form($this->placeholder('searchFilter')->getValue()) ?>

    </div><!-- three-eights -->

    <div class="three-quarters">

        <?php
        if ($this->noResultsMessage) {
            echo $this->translate($this->noResultsMessage);
        } else {
            // OLCS-13312 - publication has a different view for the results so renders its own title in
            // Common/view/table/layouts/traffic-commissioner-publication-selfserve.phtml
            echo $results;
        }
        ?>

    </div><!-- five-eights -->
</div><!-- row -->
