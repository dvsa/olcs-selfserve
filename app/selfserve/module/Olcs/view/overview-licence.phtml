<?php
/**
 * @NOTE: might want to DRY up with Licence / Application Variation overview
 * templates if maintaining three is a pain. Lots of common ground, but they're
 * small templates so no biggie to have them separate for now
 */
?>

<div class="row">
  <?php echo $this->flashMessengerAll(); ?>
  <div class="two-thirds">
    <?php
    echo $this->partial(
        'partials/page-header-simple',
        [
            'pageTitle' => $this->translate('licence.overview.title'),
            'pageSubTitle' => $this->licenceId,
            'backUrl' => [
                'url' => $this->url('dashboard'),
            ],
        ]
    );
    ?>
    <ul class="overview-navigation">
        <?php
        foreach ($sections as $section) {
            echo $this->render($section);
        }
        ?>
    </ul>
  </div>
  <div class="one-third">
    <ul class="page-header__actions">
      <?php if (isset($this->shouldShowCreateVariation) && $this->shouldShowCreateVariation): ?>
      <li>
          <a href="<?php echo $this->url('lva-licence/variation', [], [], true); ?>" 
             class="page-header__action js-modal-ajax">
              <?php echo $this->translate('licence.apply-to-change'); ?>
          </a>
      </li>
      <?php endif; ?>
    </ul>

    <dl class="meta">
      <dt><?php echo $this->translate('selfserve-dashboard-target-start-date'); ?></dt>
      <dd><?php echo $startDate ? strftime("%d %B %G",strtotime($startDate)) : ''; ?></dd>
      <dt><?php echo $this->translate('selfserve-dashboard-target-renewal-date'); ?></dt>
      <dd><?php echo $renewalDate ? strftime("%d %B %G",strtotime($renewalDate)) : ''; ?></dd>
      <dt><?php echo $this->translate('status'); ?></dt>
      <dd><?php echo $this->translate($status); ?></dd>
    </dl>

  </div>
</div>
