<main id="main" role="main">
    <div class="page-header">
        <div class="page-header__wrapper">
            <h1><?php echo $this->translate('auth.reset-password.title'); ?></h1>
        </div><!-- .page-header__wrapper -->
    </div><!-- .page-header -->
    <div class="row">
        <div class="two-thirds">
            <?php
            echo $this->flashMessengerAll();
            echo $this->formErrors($form);
            if (isset($failed) && $failed) {
                ?>
                <div class="validation-summary">
                    <h3><?php echo $this->translate('auth.reset-password.failed.title'); ?></h3>
                    <p><?php echo $this->translate('auth.reset-password.failed.reason.' . $failureReason); ?></p>
                </div>
                <?php
            }

            $newPassword = $form->get('newPassword');
            $newPassword->setAttribute('class', $newPassword->getAttribute('class') . ' long');

            $confirmPassword = $form->get('confirmPassword');
            $confirmPassword->setAttribute('class', $confirmPassword->getAttribute('class') . ' long');

            echo $this->form()->openTag($form); ?>
                <fieldset>
                    <?php echo $this->formRow($form->get('newPassword')); ?>
                    <?php echo $this->formRow($form->get('confirmPassword')); ?>
                    <div class="actions-container">
                        <?php echo $this->formElement($form->get('submit')); ?>
                    </div>
                </fieldset>
            <?php echo $this->formElement($form->get('security')); ?>
            <?php echo $this->form()->closeTag(); ?>
        </div><!-- .two-thirds -->
    </div>
</main>
