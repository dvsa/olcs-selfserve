<?php
    $title = $this->translate('permits.page.title.restricted-countries');
    $this->headTitle($title);
?>

<head>
    <style>
        #restricted-countries-list{
            display: none;
        }
        .restrictedRadio {
            margin-bottom: 0.5em;
        }
        .restrictedRadio:first-of-type.selected ~ #restricted-countries-list {
            display: block;
        }
        .inline .block-label {
            clear: none;
            float: left;
            margin: 10px 1em 0.5em 0;
        }

    </style>
</head>

<div class="row">
    <div class="three-quarters">
        <div class="page-header">
            <p><a href="/permits" class="back-link"> <?php echo $this->translate('permits.back-link'); ?> </a></p>
            <div class="page-header__wrapper">
<!--                <h1 class="js-title">-->
<!--                    --><?php //echo $this->escapeHtml($title); ?>
<!--                </h1>-->
            </div>
        </div>

        <?php
            $form->setAttribute('action', $this->url('permits', array('action' => 'summary')));
            $form->prepare();
            echo $this->form()->openTag($form);
            echo $this->formHidden($form->get('id'));
        ?>

        <div class="field">
            <fieldset id="restricted-countries" class="inline" data-group="restricted-countries">
                <legend>
                    <?php
                        //Print out Question Title using dynamic list of countries
                        $template = $this->escapeHtml($this->translate('permits.page.field.restricted-countries'));
                        echo sprintf($template, str_replace('%s', 'or', $restrictedCountriesString));
                    ?>
                </legend>

                <?php echo $this->translate('markup-ecmt-restricted-countries'); ?>

                <?php
                    $element = $form->get('restrictedCountries');
                    $options = $element->getOptions();
                    $valueOptions = $options['value_options'];
                ?>

                <label class="block-label <?php echo $options['label_attributes']['class'];?> ">
                    <input type="radio" name="<?php echo $element->getName();?>" value="1">
                    <?php echo $valueOptions['1'] ?>
                </label>

                <label class="block-label <?php echo $options['label_attributes']['class'];?> ">
                    <input type="radio" name="<?php echo $element->getName();?>" value="0">
                    <?php echo $valueOptions['0'] ?>
                </label>

                <fieldset id="restricted-countries-list" data-group="restricted-countries-list" class="guidance">
                    <p class="hint"><?php echo $this->escapeHtml($this->translate('permits.application.ecmt.select')); ?></p>
                    <?php echo $this->formRow($form->get('restrictedCountriesList')); ?>
                </fieldset>
            </fieldset>

            <fieldset class="actions-container new-application--wrapper">
                <p><?php echo $this->formSubmit($form->get('submit'));  ?></p>
                <p><a href="/permits"> <?php echo $this->translate('cancel'); ?> </a></p>
            </fieldset>
        </div>

        <?php echo $this->form()->closeTag(); ?>
    </div>
</div>
